{% extends "base/base.html" %}

{% load widget_tweaks %}
{% load staticfiles %}

{% block page_title %}
<title>Informe Monitoreo</title>
{% endblock page_title %}

{% block content %}
<section class="content-header">
	<h1>Informe Monitoreo</h1>
</section>

<section class="content">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-3">
				<form action="{%url 'consulta_escuela'%}" method="get" id="informe-list-form">
					<div class="box">
						<div class="box-footer">
							<input id="boton_enviar" type="submit" class="btn btn-primary" value="Buscar">
							<i id="spinner" class="fa fa-spinner fa-spin fa-fw"></i>
							<div class="collapse" id="filtros-collapse">
								<h6>Filtros activos</h6>
								<small><ul id="lista-filtros"></ul></small>
							</div>
						</div>
					</div>
					
					{% csrf_token %}
				</form>
				<form id="informe-escuela-form">
					<div class="box box-default collapsed-box">
						<div class="box-header with-border">
							<h5 class="box-title">Escuela</h5>
							<div class="box-tools pull-right">
								<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
							</div>
						</div>
						<div class="box-body" >
							<div class="form-group">
								{{ form_escuela.codigo.label_tag }}
								{{ form_escuela.codigo|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_escuela.nombre.label_tag }}
								{{ form_escuela.nombre|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_escuela.departamento.label_tag }}
								{{ form_escuela.departamento|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_escuela.municipio.label_tag }}
								{{ form_escuela.municipio|add_class:"form-control"}}
							</div>													
							<div class="form-group">
								{{ form_escuela.lleva_escuela|add_class:"form-control"}}
							</div>
						</div>
					</div>	
				</form>
				<form id="informe-equipamiento-form">
					<div class="box box-default collapsed-box">
						<div class="box-header with-border">
							<h5 class="box-title">Equipamiento</h5>
							<div class="box-tools pull-right">
								<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
							</div>
						</div>
						<div class="box-body">
							<div class="form-group">
								{{ form_equipada.cooperante_tpe.label_tag }}
								{{ form_equipada.cooperante_tpe|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_equipada.proyecto_tpe.label_tag }}
								{{ form_equipada.proyecto_tpe|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_equipada.fecha_min.label_tag }}
								{{ form_equipada.fecha_min|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_equipada.fecha_max.label_tag }}
								{{ form_equipada.fecha_max|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_equipada.equipada.label_tag }}
								{{ form_equipada.equipada}}
							</div>
						</div>
					</div>
				</form>
				<form id="informe-capacitacion-form">
					<div class="box box-default collapsed-box">
						<div class="box-header with-border">
							<h5 class="box-title">Capacitación</h5>
							<div class="box-tools pull-right">
								<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
							</div>
						</div>
						<div class="box-body">
							<div class="form-group">
								{{ form_capacitada.capacitador.label_tag }}
								{{ form_capacitada.capacitador|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_capacitada.fecha_min_capacitacion.label_tag }}
								{{ form_capacitada.fecha_min_capacitacion|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_capacitada.fecha_max_capacitacion.label_tag }}
								{{ form_capacitada.fecha_max_capacitacion|add_class:"form-control"}}
							</div>
							<div class="form-group">
								{{ form_capacitada.capacitada.label_tag }}
								{{ form_capacitada.capacitada}}
							</div>
						</div>
					</div>
				</form>
			</div>
			<div class="col-md-9">
				<!--Inicio  cajas-->
				<div class="row">
					<div class="col-md-3 col-sm-6 col-xs-12">
						<div class="info-box bg-red">
							<span class="info-box-icon"><i class="fa fa-building"></i></span>
							<div class="info-box-content">
								<span class="info-box-text">ESCUELAS</span>
								<span class="info-box-number"><h3 id="escuela"></h3></span>
							</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-6 col-xs-12">
						<div class="info-box bg-green">
							<span class="info-box-icon"><i class="fa fa-user-o"></i></span>
							<div class="info-box-content">
								<span class="info-box-text">NIÑOS</span>
								<span class="info-box-number"><h3 id="ninos"></h3></span>
							</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-6 col-xs-12">
						<div class="info-box bg-aqua">
							<span class="info-box-icon"><i class="fa fa-television"></i></span>
							<div class="info-box-content">
								<span class="info-box-text">EQUIPO </br>ENTREGADO</span>
								<span class="info-box-number"><h3 id="equipo"></h3></span>
							</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-3 col-xs-12">
						<div class="info-box bg-yellow">
							<span class="info-box-icon"><i class="fa fa-graduation-cap"></i></span>
							<div class="info-box-content">
								<span class="info-box-text">MAESTROS </br> CAPACITADOS</span>
								<span class="info-box-number"><h3 id="capacitados"></h3></span>
							</div>
						</div>
					</div>
				</div>
				<!--Fin cajas-->
				<div class="table-responsive box">
					<table id="informe-table" class="table table-striped table-condensed table-hover table-bordered">
						<thead>
							<tr>
								<th>UDI</th>
								<th>Nombre</th>
								<th>Dirección</th>
								<th>Departamento</th>
								<th>Municipio</th>
								<th>Niños Beneficiados</th>
								<th>Docentes</th>
								<th>Equipada</th>
								<th>Fecha Equipamiento</th>
								<th>No. Equipamiento</th>
								<th>Proyecto</th>
								<th>Donante</th>
								<th>Equipo Entregado</th>
								<th>Capacitada</th>
								<th>Fecha Capacitacion</th>
								<th>Capacitador</th>
								<th>Maestros Capacitados</th>
								<th>Promovidos</th>
								<th>No Promovidos</th>
								<th>Inconclusos</th>
							</tr>
						</thead>
						<tbody id="tbody-informe">
						</tbody>
						<tfoot style="font-size:large">
							<th>Totales</th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
						</tfoot>
					</table>
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock content %}
{% block extra_js %}
{% include "base/dataTables.html" %}
<script src="{% static "js/extrajs/informe.js" %}"></script>
<script>
	var  nuevo = new Informe();
</script>
{% endblock extra_js %}
